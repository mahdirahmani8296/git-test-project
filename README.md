# 🤖 ربات معاملاتی فارکس

یک ربات معاملاتی کامل و پیشرفته برای بازار فارکس با قابلیت‌های تحلیل تکنیکال، مدیریت ریسک و رابط کاربری وب.

## ✨ ویژگی‌ها

- 🔗 **اتصال به MetaTrader 5**: اتصال مستقیم به پلتفرم MT5
- 📊 **تحلیل تکنیکال**: شاخص‌های RSI، MACD، میانگین متحرک
- ⚡ **معاملات خودکار**: سیگنال‌گیری و اجرای معاملات خودکار
- 🛡️ **مدیریت ریسک**: Stop Loss، Take Profit، محدودیت روزانه
- 🌐 **رابط وب**: داشبورد زیبا برای نظارت بر عملکرد
- 📝 **لاگ کامل**: ثبت تمام فعالیت‌ها و معاملات
- ⚙️ **قابل پیکربندی**: تنظیمات کامل از طریق فایل JSON

## 📋 پیش‌نیازها

1. **MetaTrader 5**: نصب و راه‌اندازی پلتفرم MT5
2. **Python 3.8+**: نسخه پایتون 3.8 یا بالاتر
3. **حساب معاملاتی**: حساب Demo یا Real در MT5

## 🚀 نصب و راه‌اندازی

### 1. کلون کردن پروژه
```bash
git clone <repository-url>
cd forex-trading-bot
```

### 2. نصب وابستگی‌ها
```bash
pip install -r requirements.txt
```

### 3. پیکربندی
فایل `config.json` را ویرایش کنید:
```json
{
    "mt5_login": 12345678,
    "mt5_password": "your_password",
    "mt5_server": "MetaQuotes-Demo",
    "symbols": ["EURUSD", "GBPUSD", "USDJPY"],
    "lot_size": 0.01,
    "risk_percent": 2.0
}
```

### 4. اجرای ربات

#### روش اول: خط فرمان
```bash
python forex_bot.py
```

#### روش دوم: رابط وب
```bash
python web_interface.py
```
سپس به آدرس `http://localhost:5000` بروید.

## 📊 تحلیل تکنیکال

ربات از شاخص‌های زیر برای تصمیم‌گیری استفاده می‌کند:

### RSI (Relative Strength Index)
- **خرید**: RSI < 30 (oversold) + روند صعودی
- **فروش**: RSI > 70 (overbought) + روند نزولی

### MACD (Moving Average Convergence Divergence)
- **خرید**: MACD > Signal Line + روند صعودی
- **فروش**: MACD < Signal Line + روند نزولی

### میانگین متحرک (Moving Averages)
- **روند صعودی**: MA سریع > MA کند
- **روند نزولی**: MA سریع < MA کند

## 🛡️ مدیریت ریسک

### Stop Loss و Take Profit
- **Stop Loss**: محافظت در برابر ضرر بیش از حد
- **Take Profit**: قفل کردن سود در سطح هدف

### محدودیت‌های روزانه
- **حداکثر ضرر روزانه**: متوقف کردن معاملات پس از رسیدن به حد ضرر
- **حداکثر سود روزانه**: محافظت از سودهای کسب شده

### اندازه موقعیت
محاسبه خودکار اندازه موقعیت بر اساس:
- درصد ریسک حساب
- اندازه Stop Loss
- موجودی حساب

## ⚙️ تنظیمات

### پارامترهای اصلی

| پارامتر | توضیح | مقدار پیش‌فرض |
|---------|-------|----------------|
| `symbols` | جفت ارزهای معاملاتی | ["EURUSD", "GBPUSD"] |
| `timeframe` | تایم فریم تحلیل | M15 |
| `lot_size` | اندازه لات | 0.01 |
| `risk_percent` | درصد ریسک | 2.0 |
| `stop_loss_pips` | Stop Loss به پیپ | 50 |
| `take_profit_pips` | Take Profit به پیپ | 100 |

### شاخص‌های تکنیکال

| شاخص | پارامتر | مقدار پیش‌فرض |
|-------|---------|----------------|
| RSI | `rsi_period` | 14 |
| RSI | `rsi_overbought` | 70 |
| RSI | `rsi_oversold` | 30 |
| MACD | `macd_fast` | 12 |
| MACD | `macd_slow` | 26 |
| MACD | `macd_signal` | 9 |
| MA | `ma_fast` | 10 |
| MA | `ma_slow` | 20 |

## 🌐 رابط وب

رابط وب شامل:
- **داشبورد اصلی**: نمایش وضعیت کلی
- **نمایش موقعیت‌ها**: لیست معاملات باز
- **تحلیل بازار**: تحلیل تکنیکال هر جفت ارز
- **کنترل ربات**: شروع/توقف ربات

### ویژگی‌های داشبورد
- 📊 نمودارهای بصری
- 🔄 به‌روزرسانی خودکار
- 📱 طراحی واکنش‌گرا
- 🌙 حالت تاریک/روشن

## 📝 لاگ‌ها

تمام فعالیت‌های ربات در فایل `forex_bot.log` ثبت می‌شود:
- اتصال/قطع اتصال MT5
- سیگنال‌های معاملاتی
- اجرای معاملات
- خطاها و هشدارها

## ⚠️ هشدارهای مهم

1. **تست روی Demo**: ابتدا روی حساب Demo تست کنید
2. **مدیریت ریسک**: هرگز بیش از توان مالی خود ریسک نکنید
3. **نظارت مستمر**: همیشه عملکرد ربات را نظارت کنید
4. **بک‌آپ تنظیمات**: از تنظیمات خود بک‌آپ بگیرید

## 🔧 عیب‌یابی

### مشکلات رایج

#### خطای اتصال MT5
```
خطا در اتصال به MetaTrader 5
```
**حل**: 
- اطمینان از باز بودن MT5
- بررسی اطلاعات لاگین
- فعال کردن Algorithmic Trading

#### خطای نماد
```
اطلاعات نماد دریافت نشد
```
**حل**:
- اضافه کردن نماد به Market Watch
- بررسی املای نام نماد

#### خطای سفارش
```
سفارش ناموفق
```
**حل**:
- بررسی موجودی حساب
- کنترل اندازه لات
- بررسی ساعات معاملاتی

## 📞 پشتیبانی

برای دریافت پشتیبانی:
1. بررسی فایل لاگ
2. مطالعه مستندات MT5
3. تست روی حساب Demo

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## ⚖️ سلب مسئولیت

معاملات فارکس دارای ریسک بالایی است. استفاده از این ربات به مسئولیت خود کاربر است. سازنده هیچ مسئولیتی در قبال ضررهای احتمالی ندارد.

---

**موفق باشید! 🚀**