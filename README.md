# سیستم معاملاتی فارکس پیشرفته 🚀

یک سیستم معاملاتی فارکس با دقت بالا و استراتژی‌های پیشرفته برای معاملات سودده

## ✨ ویژگی‌های کلیدی

### 🎯 استراتژی‌های پیشرفته
- **ترکیب چندین شاخص تکنیکال**: RSI، MACD، EMA، Bollinger Bands، Stochastic
- **تحلیل الگوهای قیمتی**: تشخیص الگوهای چکش، احاطه‌کننده، و Doji
- **سطوح حمایت و مقاومت**: محاسبه خودکار سطوح کلیدی
- **تحلیل حجم معاملات**: بررسی حجم برای تایید سیگنال‌ها
- **امتیازدهی هوشمند**: سیستم امتیازدهی ترکیبی برای تصمیم‌گیری

### 📊 مدیریت ریسک پیشرفته
- **محاسبه خودکار اندازه پوزیشن**: بر اساس درصد ریسک
- **حداکثر ریسک در هر معامله**: قابل تنظیم (پیش‌فرض 2%)
- **حداکثر اندازه پوزیشن**: 10% موجودی کل
- **محاسبه کارمزد**: در نظر گرفتن هزینه‌های معاملاتی

### 🔬 بک‌تستینگ کامل
- **تست استراتژی روی داده‌های تاریخی**
- **محاسبه معیارهای عملکرد**: Sharpe Ratio، Maximum Drawdown، Profit Factor
- **بهینه‌سازی پارامترها**: جستجوی خودکار بهترین تنظیمات
- **نمودارهای تحلیلی**: نمایش نتایج به صورت بصری

### 🌐 رابط وب مدرن
- **رابط کاربری زیبا و واکنش‌گرا**
- **داده‌های زنده بازار**: به‌روزرسانی خودکار قیمت‌ها
- **سیگنال‌های زنده**: نمایش سیگنال‌های خرید/فروش
- **نظارت بر عملکرد**: نمایش معیارهای عملکرد در زمان واقعی

## 🛠️ نصب و راه‌اندازی

### پیش‌نیازها
- Python 3.8 یا بالاتر
- pip (مدیر بسته‌های Python)

### مراحل نصب

1. **کلون کردن مخزن**
```bash
git clone <repository-url>
cd forex-trading-system
```

2. **ایجاد محیط مجازی**
```bash
python -m venv venv
source venv/bin/activate  # در Linux/Mac
# یا
venv\Scripts\activate  # در Windows
```

3. **نصب وابستگی‌ها**
```bash
pip install -r requirements.txt
```

4. **نصب TA-Lib** (ممکن است نیاز به نصب جداگانه داشته باشد)

**در Ubuntu/Debian:**
```bash
sudo apt-get install ta-lib
pip install TA-Lib
```

**در macOS:**
```bash
brew install ta-lib
pip install TA-Lib
```

**در Windows:**
دانلود و نصب از [اینجا](https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib)

## 🚀 استفاده

### 1. اجرای سیستم معاملاتی پایه
```bash
python forex_trading_system.py
```

### 2. اجرای بک‌تستینگ
```bash
python backtesting_engine.py
```

### 3. اجرای رابط وب
```bash
python web_interface.py
```
سپس به آدرس `http://localhost:5000` مراجعه کنید.

## 📈 استراتژی‌های معاملاتی

### شاخص‌های تکنیکال استفاده شده:

1. **RSI (Relative Strength Index)**
   - دوره: 14
   - مناطق اشباع خرید: 70
   - مناطق اشباع فروش: 30

2. **EMA (Exponential Moving Average)**
   - EMA کوتاه: 9 دوره
   - EMA بلند: 21 دوره
   - تشخیص کراس‌اورها

3. **MACD (Moving Average Convergence Divergence)**
   - خط سریع: 12 دوره
   - خط کند: 26 دوره
   - خط سیگنال: 9 دوره

4. **Bollinger Bands**
   - دوره: 20
   - انحراف معیار: 2
   - تشخیص شکست‌ها و بازگشت‌ها

5. **Stochastic Oscillator**
   - دوره K: 14
   - دوره D: 3
   - تشخیص مناطق اشباع

6. **ATR (Average True Range)**
   - دوره: 14
   - اندازه‌گیری نوسانات

### سیستم امتیازدهی:

سیستم از ترکیب امتیازات مختلف برای تصمیم‌گیری استفاده می‌کند:

- **RSI + Stochastic**: تا 2 امتیاز
- **EMA Crossover**: تا 1.5 امتیاز
- **MACD Crossover**: تا 1 امتیاز
- **Bollinger Bands**: تا 1.5 امتیاز
- **Volume Analysis**: تا 0.5 امتیاز
- **Price Action Patterns**: تا 1.5 امتیاز
- **Support/Resistance**: تا 1 امتیاز
- **Trend Strength**: تا 0.5 امتیاز

**سیگنال‌های نهایی:**
- امتیاز ≥ 3: سیگنال خرید
- امتیاز ≤ -3: سیگنال فروش
- سایر موارد: بدون سیگنال

## 🔧 تنظیمات

### پارامترهای قابل تنظیم:

```python
strategy_params = {
    'rsi_period': 14,
    'rsi_overbought': 70,
    'rsi_oversold': 30,
    'ema_short': 9,
    'ema_long': 21,
    'macd_fast': 12,
    'macd_slow': 26,
    'macd_signal': 9,
    'bollinger_period': 20,
    'bollinger_std': 2,
    'atr_period': 14,
    'stoch_k': 14,
    'stoch_d': 3,
    'volume_sma': 20
}
```

### مدیریت ریسک:

```python
# درصد ریسک در هر معامله
risk_per_trade = 0.02  # 2%

# حداکثر اندازه پوزیشن
max_position_size = 0.1  # 10% موجودی
```

## 📊 معیارهای عملکرد

سیستم معیارهای زیر را محاسبه می‌کند:

- **تعداد کل معاملات**
- **نرخ موفقیت (Win Rate)**
- **سود کل و متوسط**
- **Sharpe Ratio**
- **حداکثر افت (Maximum Drawdown)**
- **Profit Factor**
- **بازده کل**

## 🌐 رابط وب

### ویژگی‌های رابط وب:

1. **داشبورد اصلی**
   - نمایش قیمت‌های زنده
   - سیگنال‌های معاملاتی
   - معیارهای عملکرد

2. **کنترل‌های معاملاتی**
   - ایجاد معامله‌گر
   - اجرای استراتژی
   - اجرای معاملات

3. **بک‌تستینگ**
   - انتخاب بازه زمانی
   - اجرای بک‌تست
   - نمایش نتایج

4. **نظارت زنده**
   - به‌روزرسانی خودکار قیمت‌ها
   - نمایش تغییرات در زمان واقعی

## ⚠️ هشدارها

1. **این سیستم برای اهداف آموزشی و تحقیقاتی طراحی شده است**
2. **قبل از استفاده در معاملات واقعی، حتماً تست کامل انجام دهید**
3. **معاملات فارکس دارای ریسک بالایی است**
4. **همیشه از مدیریت ریسک مناسب استفاده کنید**
5. **نتایج گذشته تضمینی برای آینده نیست**

## 🤝 مشارکت

برای مشارکت در بهبود این پروژه:

1. Fork کنید
2. Branch جدید ایجاد کنید
3. تغییرات خود را commit کنید
4. Pull Request ارسال کنید

## 📝 لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.

## 📞 پشتیبانی

برای سوالات و مشکلات:
- Issue در GitHub ایجاد کنید
- ایمیل: [your-email@example.com]

---

**نکته مهم**: این سیستم یک ابزار تحلیلی است و نباید به عنوان توصیه مالی در نظر گرفته شود. همیشه قبل از تصمیم‌گیری مالی، با مشاور مالی مشورت کنید.