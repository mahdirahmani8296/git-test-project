# 🚀 سیستم معاملات فارکس با دقت بالا

## 📋 معرفی
این پروژه یک سیستم معاملات فارکس پیشرفته با استراتژی‌های پیچیده و مدیریت ریسک هوشمند است که برای دستیابی به سوددهی بالا طراحی شده است.

## ✨ ویژگی‌های کلیدی

### 🎯 استراتژی‌های پیشرفته
- **ترکیب چندین اندیکاتور تکنیکال**: RSI، MACD، EMA، Bollinger Bands، Stochastic، Williams %R، CCI، ADX
- **تحلیل روند چندگانه**: استفاده از EMA های مختلف برای تشخیص روند
- **تشخیص نقاط ورود و خروج دقیق**: بر اساس همگرایی اندیکاتورها
- **فیلتر نویز بازار**: استفاده از ADX برای تشخیص قدرت روند

### 🛡️ مدیریت ریسک هوشمند
- **محاسبه اندازه پوزیشن بر اساس ATR**: تنظیم خودکار بر اساس نوسانات بازار
- **حد ضرر و حد سود پویا**: بر اساس نوسانات واقعی بازار
- **محدودیت ریسک در هر معامله**: حداکثر 2% ریسک در هر معامله
- **حداکثر اندازه پوزیشن**: محدود به 10% موجودی کل

### 📊 بهینه‌سازی پیشرفته
- **الگوریتم ژنتیک**: یافتن بهترین پارامترها برای استراتژی
- **جستجوی شبکه‌ای**: تست تمام ترکیبات ممکن پارامترها
- **ارزیابی چند معیاری**: نسبت شارپ، حداکثر افت، فاکتور سود، درصد موفقیت

### 🌐 داشبورد تعاملی
- **نظارت در زمان واقعی**: به‌روزرسانی خودکار هر 30 ثانیه
- **نمودارهای تعاملی**: نمایش قیمت، اندیکاتورها و سیگنال‌ها
- **جدول معاملات**: نمایش جزئیات تمام معاملات
- **آمار عملکرد**: موجودی، سود/زیان، درصد موفقیت

## 🛠️ نصب و راه‌اندازی

### پیش‌نیازها
```bash
# Python 3.8 یا بالاتر
python --version

# نصب TA-Lib (برای Ubuntu/Debian)
sudo apt-get install ta-lib

# نصب TA-Lib (برای macOS)
brew install ta-lib

# نصب TA-Lib (برای Windows)
# دانلود و نصب از: https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib
```

### نصب پکیج‌ها
```bash
pip install -r requirements.txt
```

## 🚀 نحوه استفاده

### 1. اجرای سیستم اصلی
```bash
python forex_trading_system.py
```

### 2. بهینه‌سازی استراتژی
```bash
python strategy_optimizer.py
```

### 3. راه‌اندازی داشبورد
```bash
python trading_dashboard.py
```

## 📈 استراتژی معاملاتی

### شرایط خرید (Long Position)
1. **روند صعودی**: EMA 9 > EMA 21 > EMA 50
2. **RSI مناسب**: RSI < 30 (اشباع فروش) یا 40-60 (ناحیه خنثی)
3. **MACD مثبت**: MACD > Signal Line و Histogram > 0
4. **یکی از شرایط اشباع فروش**:
   - قیمت نزدیک Bollinger Lower Band
   - Stochastic < 20
   - Williams %R < -80
5. **روند قوی**: ADX > 25

### شرایط فروش (Short Position)
1. **روند نزولی**: EMA 9 < EMA 21 < EMA 50
2. **RSI مناسب**: RSI > 70 (اشباع خرید) یا 40-60 (ناحیه خنثی)
3. **MACD منفی**: MACD < Signal Line و Histogram < 0
4. **یکی از شرایط اشباع خرید**:
   - قیمت نزدیک Bollinger Upper Band
   - Stochastic > 80
   - Williams %R > -20
5. **روند قوی**: ADX > 25

### مدیریت ریسک
- **حد ضرر**: 2 × ATR زیر قیمت ورود
- **حد سود**: 3 × ATR بالای قیمت ورود
- **ریسک در هر معامله**: 2% موجودی
- **حداکثر اندازه پوزیشن**: 10% موجودی

## 📊 اندیکاتورهای استفاده شده

### اندیکاتورهای روند
- **EMA (Exponential Moving Average)**: 9، 21، 50 دوره
- **ADX (Average Directional Index)**: تشخیص قدرت روند

### اندیکاتورهای مومنتوم
- **RSI (Relative Strength Index)**: 14 دوره
- **MACD (Moving Average Convergence Divergence)**: 12، 26، 9
- **Stochastic**: 14 دوره
- **Williams %R**: 14 دوره
- **CCI (Commodity Channel Index)**: 14 دوره

### اندیکاتورهای نوسان
- **Bollinger Bands**: 20 دوره، 2 انحراف معیار
- **ATR (Average True Range)**: 14 دوره برای مدیریت ریسک

## 🎯 بهینه‌سازی استراتژی

### الگوریتم ژنتیک
- **اندازه جمعیت**: 50
- **تعداد نسل**: 20
- **نرخ جهش**: 10%
- **انتخاب والدین**: Tournament Selection

### پارامترهای قابل بهینه‌سازی
- دوره RSI: 10-20
- دوره MACD Fast: 8-16
- دوره MACD Slow: 20-30
- دوره EMA Short: 5-15
- دوره EMA Long: 15-30
- درصد ریسک: 1-5%
- سطوح اشباع خرید/فروش RSI

### معیارهای ارزیابی
- **نسبت شارپ**: 40% وزن
- **حداکثر افت**: 20% وزن
- **فاکتور سود**: 20% وزن
- **درصد موفقیت**: 20% وزن

## 🌐 داشبورد تعاملی

### ویژگی‌های داشبورد
- **نمودار قیمت**: نمایش کندل‌استیک با EMA ها و Bollinger Bands
- **سیگنال‌های معاملاتی**: نمایش نقاط خرید و فروش
- **اندیکاتورها**: RSI، MACD، Stochastic
- **جدول معاملات**: نمایش آخرین 10 معامله
- **آمار عملکرد**: موجودی، سود/زیان، تعداد معاملات، درصد موفقیت

### تنظیمات قابل تغییر
- **جفت ارز**: EUR/USD، GBP/USD، USD/JPY، USD/CHF، AUD/USD
- **بازه زمانی**: 1 دقیقه، 5 دقیقه، 15 دقیقه، 1 ساعت، 1 روز
- **دوره**: 1 روز، 5 روز، 1 ماه، 3 ماه

## 📁 ساختار پروژه

```
forex-trading-system/
├── forex_trading_system.py      # سیستم اصلی معاملات
├── strategy_optimizer.py        # بهینه‌ساز استراتژی
├── trading_dashboard.py         # داشبورد تعاملی
├── requirements.txt             # پکیج‌های مورد نیاز
├── README.md                    # راهنمای پروژه
└── index.html                   # صفحه اصلی
```

## ⚠️ هشدارها و نکات مهم

### ریسک‌های معاملات فارکس
- معاملات فارکس دارای ریسک بالایی است
- امکان از دست دادن تمام سرمایه وجود دارد
- این سیستم برای اهداف آموزشی و تحقیقاتی طراحی شده است
- قبل از استفاده در معاملات واقعی، تست کامل انجام دهید

### توصیه‌های امنیتی
- از حساب دمو برای تست استفاده کنید
- مدیریت ریسک مناسب اعمال کنید
- از اهرم بالا پرهیز کنید
- همیشه حد ضرر تعیین کنید

## 🔧 تنظیمات پیشرفته

### تغییر پارامترهای استراتژی
```python
trader = AdvancedForexTrader(
    symbol="EURUSD=X",        # جفت ارز
    initial_balance=10000,    # موجودی اولیه
    risk_percent=2            # درصد ریسک
)
```

### تنظیم اندیکاتورها
```python
# تغییر دوره RSI
trader.rsi_period = 14

# تغییر پارامترهای MACD
trader.macd_fast = 12
trader.macd_slow = 26
trader.macd_signal = 9
```

## 📞 پشتیبانی

برای سوالات و مشکلات:
- بررسی کنید که تمام پکیج‌ها نصب شده باشند
- از Python 3.8 یا بالاتر استفاده کنید
- TA-Lib را به درستی نصب کنید
- اتصال اینترنت برای دریافت داده‌ها ضروری است

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

---

**⚠️ هشدار**: این نرم‌افزار صرفاً برای اهداف آموزشی و تحقیقاتی طراحی شده است. استفاده از آن در معاملات واقعی با ریسک همراه است و نویسنده مسئولیتی در قبال زیان‌های احتمالی ندارد.