# Advanced Trend Following EA - راهنمای نصب و استفاده

## معرفی

این اکسپرت ادوایزر پیشرفته برای معاملات خودکار در بازارهای فارکس طراحی شده است و از استراتژی ترند فالو پیشرفته استفاده می‌کند.

## ویژگی‌های کلیدی

### 🎯 **استراتژی ترند فالو پیشرفته**
- استفاده از چندین اندیکاتور برای تأیید روند
- سیگنال‌گیری هوشمند بر اساس قدرت روند
- ورود به معاملات فقط در جهت روند اصلی

### 📊 **اندیکاتورهای استفاده شده**
- **EMA (Exponential Moving Average)**: تشخیص روند اصلی
- **RSI (Relative Strength Index)**: جلوگیری از ورود در نواحی اشباع
- **MACD**: تأیید سیگنال‌های روند
- **Bollinger Bands**: تشخیص محدوده قیمتی
- **ATR (Average True Range)**: محاسبه نوسانات و ریسک

### 💰 **مدیریت ریسک هوشمند**
- **Stop Loss و Take Profit دینامیک**: بر اساس نوسانات بازار (ATR)
- **Trailing Stop**: حفظ سود در معاملات موفق
- **Position Sizing**: محاسبه اندازه پوزیشن بر اساس درصد ریسک

### ⚙️ **فیلترهای پیشرفته**
- **فیلتر زمانی**: معامله فقط در ساعات مشخص
- **فیلتر نوسانات**: جلوگیری از معامله در نوسانات بیش از حد
- **فیلتر اسپرد**: کنترل هزینه‌های معاملات

## نصب و راه‌اندازی

### برای MetaTrader 4:

1. **دانلود فایل**: `AdvancedTrendFollowingEA.mq4`
2. **کپی کردن فایل**:
   - فایل را در مسیر زیر کپی کنید:
   ```
   MetaTrader 4/MQL4/Experts/
   ```
3. **کامپایل کردن**:
   - MetaEditor را باز کنید
   - فایل .mq4 را باز کرده و F7 را فشار دهید
   - در صورت بروز خطا، آن را برطرف کنید

### برای MetaTrader 5:

1. **دانلود فایل**: `AdvancedTrendFollowingEA.mq5`
2. **کپی کردن فایل**:
   - فایل را در مسیر زیر کپی کنید:
   ```
   MetaTrader 5/MQL5/Experts/
   ```
3. **کامپایل کردن**:
   - MetaEditor را باز کنید
   - فایل .mq5 را باز کرده و F7 را فشار دهید

## تنظیمات پیشنهادی

### ⚡ **تنظیمات عمومی**
```
MagicNumber = 12345          // شناسه یکتا برای معاملات
AutoLotSize = true           // محاسبه خودکار اندازه پوزیشن
RiskPercent = 2.0            // درصد ریسک هر معامله (پیشنهاد: 1-3%)
MaxSpread = 30               // حداکثر اسپرد مجاز (پیپ)
```

### 📈 **تنظیمات اندیکاتورها**
```
EMA_Fast = 12               // EMA سریع
EMA_Slow = 26               // EMA کند
EMA_Filter = 50             // EMA فیلتر روند
RSI_Period = 14             // دوره RSI
MACD_Fast = 12              // MACD سریع
MACD_Slow = 26              // MACD کند
BB_Period = 20              // دوره Bollinger Bands
ATR_Period = 14             // دوره ATR
```

### 🛡️ **تنظیمات مدیریت ریسک**
```
UseDynamicSL = true         // استفاده از Stop Loss دینامیک
UseDynamicTP = true         // استفاده از Take Profit دینامیک
SL_ATR_Multiplier = 2.5     // ضریب ATR برای Stop Loss
TP_ATR_Multiplier = 4.0     // ضریب ATR برای Take Profit
UseTrailingStop = true      // فعال‌سازی Trailing Stop
TrailingStart = 20          // شروع Trailing Stop (پیپ)
TrailingStep = 10           // گام Trailing Stop (پیپ)
```

### 🔍 **فیلترهای پیشرفته**
```
UseTimeFilter = true        // فعال‌سازی فیلتر زمانی
TradingStartTime = "08:00"  // شروع ساعت معاملات
TradingEndTime = "20:00"    // پایان ساعت معاملات
UseVolatilityFilter = true  // فیلتر نوسانات
MinVolatility = 0.0001      // حداقل نوسانات
MaxVolatility = 0.005       // حداکثر نوسانات
```

## نحوه استفاده

### 1. **اتصال به چارت**
- چارت مورد نظر را باز کنید
- EA را از Navigator به چارت بکشید
- تنظیمات را طبق نیاز تغییر دهید
- گزینه "Allow live trading" را فعال کنید

### 2. **تایم فریم پیشنهادی**
- **H1 (1 ساعته)**: برای معاملات روزانه
- **H4 (4 ساعته)**: برای معاملات میان‌مدت
- **D1 (روزانه)**: برای معاملات بلندمدت

### 3. **جفت ارزهای مناسب**
- **Major Pairs**: EURUSD, GBPUSD, USDJPY, USDCHF
- **Cross Pairs**: EURJPY, GBPJPY, EURGBP

## استراتژی معاملاتی

### 🔄 **منطق ورود**
1. **تأیید روند**: EMA سریع بالای/پایین EMA کند
2. **فیلتر قیمت**: قیمت بالای/پایین EMA فیلتر
3. **تأیید MACD**: خط اصلی بالای/پایین خط سیگنال
4. **فیلتر RSI**: RSI در محدوده 30-70
5. **فیلتر Bollinger**: قیمت بین باندهای بالا و پایین

### 📤 **منطق خروج**
1. **تغییر روند**: معکوس شدن سیگنال‌های ورود
2. **RSI اشباع**: RSI بالای 70 یا پایین 30
3. **Stop Loss/Take Profit**: رسیدن به سطوح تعریف شده
4. **Trailing Stop**: حفظ سود در معاملات موفق

## نکات مهم برای معاملات واقعی

### ⚠️ **هشدارهای ایمنی**
1. **تست روی حساب دمو**: حتماً ابتدا روی حساب دمو تست کنید
2. **شروع با سرمایه کم**: با درصد ریسک پایین شروع کنید
3. **نظارت مستمر**: عملکرد EA را مرتب بررسی کنید
4. **بک‌اپ تنظیمات**: تنظیمات موفق را ذخیره کنید

### 💡 **توصیه‌های بهینه‌سازی**
1. **تست بر روی داده‌های تاریخی**: از Strategy Tester استفاده کنید
2. **بهینه‌سازی پارامترها**: تنظیمات را برای هر جفت ارز بهینه کنید
3. **مدیریت سرمایه**: بیش از 5% کل سرمایه را در یک معامله ریسک نکنید
4. **متنوع‌سازی**: از EA روی چندین جفت ارز استفاده کنید

## عیب‌یابی

### ❌ **مشکلات رایج**
1. **EA معامله نمی‌کند**:
   - بررسی کنید "Allow live trading" فعال باشد
   - تنظیمات فیلترها را بررسی کنید
   - اسپرد بازار را چک کنید

2. **خطای کامپایل**:
   - نسخه MetaTrader را بروزرسانی کنید
   - فایل را مجدداً دانلود و کپی کنید

3. **عملکرد ضعیف**:
   - پارامترها را بهینه‌سازی کنید
   - تایم فریم مناسب‌تری انتخاب کنید
   - شرایط بازار را بررسی کنید

## پشتیبانی

در صورت بروز مشکل یا نیاز به راهنمایی بیشتر، می‌توانید:
- فایل‌های لاگ MetaTrader را بررسی کنید
- تنظیمات EA را مجدداً بررسی کنید
- روی حساب دمو تست مجدد انجام دهید

## اخلاء مسئولیت

⚠️ **هشدار**: معاملات فارکس دارای ریسک بالایی است. این EA ابزاری برای کمک به معاملات است و تضمینی برای سودآوری ندارد. همیشه مدیریت ریسک مناسب را رعایت کنید و بیش از آنچه قادر به از دست دادن آن هستید معامله نکنید.

---

**موفقیت در معاملات نیازمند صبر، انضباط و مدیریت ریسک مناسب است!** 🚀