===============================================================================
                    ADVANCED TRADING EXPERT ADVISOR - راهنما و مستندات
===============================================================================

📈 نام فایل: AdvancedTradingEA.mq5
🚀 نسخه: 1.00
💡 توسعه‌دهنده: Expert Trader
⚡ پلتفرم: MetaTrader 5

===============================================================================
                                 توضیحات کلی
===============================================================================

این Expert Advisor یک ربات معاملاتی پیشرفته و حرفه‌ای است که از ترکیب چندین اندیکاتور
تکنیکال برای تحلیل بازار و اجرای معاملات سودآور استفاده می‌کند.

🎯 هدف: ایجاد معاملات با سودآوری بالا و مدیریت ریسک پیشرفته
💰 نسبت سود به ضرر: حداقل 2.5:1
📊 استراتژی: ترکیب تحلیل روند، مومنتوم و نوسانات

===============================================================================
                              استراتژی معاملاتی
===============================================================================

🔍 تحلیل چند سطحی:

1️⃣ تحلیل روند (Trend Analysis):
   - استفاده از 3 EMA (21, 50, 200)
   - تأیید جهت روند با Bollinger Bands
   - فیلتر قدرت روند با ADX

2️⃣ تحلیل مومنتوم (Momentum Analysis):
   - MACD برای تأیید جهت حرکت
   - RSI برای تشخیص اشباع خرید/فروش
   - ترکیب سیگنال‌های قدرت

3️⃣ تحلیل نوسانات (Volatility Analysis):
   - ATR برای تشخیص نوسانات بالا
   - Bollinger Bands برای انبساط قیمت

===============================================================================
                              شرایط ورود معامله
===============================================================================

🟢 شرایط خرید (BUY):
✅ EMA21 > EMA50 > EMA200 (روند صعودی)
✅ قیمت بالای EMA21 و EMA50
✅ 50 < RSI < 70 (مومنتوم مثبت بدون اشباع خرید)
✅ MACD > Signal و در حال افزایش
✅ قیمت بالای میانگین Bollinger Bands
✅ ADX > 25 (روند قوی)
✅ نوسانات بالا (ATR > میانگین)

🔴 شرایط فروش (SELL):
✅ EMA21 < EMA50 < EMA200 (روند نزولی)
✅ قیمت زیر EMA21 و EMA50
✅ 30 < RSI < 50 (مومنتوم منفی بدون اشباع فروش)
✅ MACD < Signal و در حال کاهش
✅ قیمت زیر میانگین Bollinger Bands
✅ ADX > 25 (روند قوی)
✅ نوسانات بالا (ATR > میانگین)

===============================================================================
                              مدیریت ریسک پیشرفته
===============================================================================

💡 محاسبه سایز پوزیشن:
- بر اساس درصد ریسک از موجودی (پیش‌فرض: 2%)
- محاسبه دقیق بر اساس فاصله stop loss
- تنظیم خودکار حداقل و حداکثر lot

🛡️ Stop Loss دینامیک:
- بر اساس ATR (2 برابر ATR)
- در نظر گیری swing highs/lows
- حداقل فاصله 50 نقطه

🎯 Take Profit هوشمند:
- نسبت ریسک به سود: 2.5:1
- استفاده از کانال‌های Bollinger
- هدف‌گذاری پویا بر اساس نوسانات

🔄 Trailing Stop:
- شروع trailing بعد از 150 نقطه سود
- گام‌های 50 نقطه‌ای
- حفظ سود در روند ادامه‌دار

💰 سود‌گیری تدریجی:
- فروش 50% پوزیشن در نسبت 2:1
- ادامه نگهداری برای سود بیشتر

===============================================================================
                              تنظیمات فیلترها
===============================================================================

⏰ فیلتر زمانی:
- ساعات معاملاتی: 8 صبح تا 8 شب (قابل تنظیم)
- انتخاب روزهای هفته
- جلوگیری از معامله در زمان‌های پرریسک

📈 فیلتر spread:
- حداکثر spread مجاز: 30 نقطه
- کنترل کیفیت اجرای معاملات

🔢 کنترل تعداد پوزیشن:
- حداکثر 3 پوزیشن همزمان
- فاصله زمانی 5 دقیقه بین معاملات

🚨 محدودیت ضرر روزانه:
- توقف خودکار در صورت ضرر 5% روزانه
- بستن تمام پوزیشن‌های باز

===============================================================================
                              نحوه نصب و راه‌اندازی
===============================================================================

📋 مراحل نصب:

1️⃣ کپی فایل:
   - فایل AdvancedTradingEA.mq5 را در پوشه زیر کپی کنید:
   - MQL5/Experts/

2️⃣ کامپایل:
   - MetaEditor را باز کنید
   - فایل EA را باز کرده و F7 را فشار دهید
   - بررسی کنید که بدون خطا کامپایل شود

3️⃣ اتصال به چارت:
   - چارت نماد مورد نظر را باز کنید
   - EA را از Navigator روی چارت بکشید
   - تنظیمات مورد نظر را انجام دهید

⚙️ تنظیمات اولیه توصیه شده:

Risk Percentage: 1-2% (برای شروع محافظه‌کارانه)
Dynamic SL/TP: فعال
Time Filter: فعال (8-20)
Max Positions: 2-3
Max Daily Loss: 3-5%

===============================================================================
                              تنظیمات پارامترها
===============================================================================

🎛️ تنظیمات اصلی:
- InpUseStrategy: فعال/غیرفعال کردن معاملات
- InpMagicNumber: شماره منحصر به فرد EA
- InpRiskPercent: درصد ریسک هر معامله (1-5%)

🛡️ مدیریت ریسک:
- InpMaxSpread: حداکثر spread مجاز
- InpMaxPositions: حداکثر پوزیشن همزمان
- InpMaxDailyLoss: حداکثر ضرر روزانه

📊 تنظیمات اندیکاتورها:
- RSI Period: 14 (استاندارد)
- MACD: 12,26,9 (استاندارد)
- Bollinger Bands: 20,2.0
- ADX Period: 14
- ATR Period: 14
- EMA Periods: 21,50,200

⏰ فیلتر زمانی:
- ساعت شروع/پایان معاملات
- انتخاب روزهای فعال

===============================================================================
                              نکات مهم و هشدارها
===============================================================================

⚠️ هشدارهای مهم:

1️⃣ تست در Demo:
   - حتماً ابتدا در حساب Demo تست کنید
   - حداقل 2-4 هفته تست قبل از استفاده واقعی

2️⃣ سرمایه مناسب:
   - حداقل $1000 برای شروع
   - هرگز بیش از 2% موجودی را ریسک نکنید

3️⃣ بازارهای مناسب:
   - بهترین عملکرد در Major Pairs (EUR/USD, GBP/USD, USD/JPY)
   - TimeFrame توصیه شده: H1 یا H4

4️⃣ نظارت:
   - روزانه عملکرد را بررسی کنید
   - در صورت ضرر مداوم، پارامترها را بازبینی کنید

🎯 انتظارات واقع‌بینانه:
- سودآوری ماهانه: 5-15%
- نسبت برد: 55-65%
- حداکثر Drawdown: 10-15%

===============================================================================
                              رفع عیب و مشکلات
===============================================================================

🔧 مشکلات رایج:

❌ EA معامله نمی‌کند:
✅ بررسی فعال بودن AutoTrading
✅ کنترل تنظیمات فیلتر زمانی
✅ بررسی spread فعلی
✅ کنترل تعداد پوزیشن‌های باز

❌ خطای اندیکاتور:
✅ بررسی دیتای کافی روی چارت
✅ کنترل اتصال اینترنت
✅ راه‌اندازی مجدد MT5

❌ عملکرد ضعیف:
✅ بررسی تنظیمات ریسک
✅ کنترل شرایط بازار
✅ تنظیم مجدد پارامترها

===============================================================================
                              اطلاعات تماس و پشتیبانی
===============================================================================

📧 برای سوالات و پشتیبانی:
- مشکلات فنی و تنظیمات
- بهینه‌سازی پارامترها
- آموزش استفاده پیشرفته

🔄 بروزرسانی‌ها:
- نسخه‌های جدید با قابلیت‌های اضافی
- بهبود استراتژی و عملکرد

===============================================================================
                                   پایان مستندات
===============================================================================

⭐ این EA نتیجه تحقیق و آزمون‌های گسترده بر روی بازارهای مالی است
💡 برای بهترین نتایج، ترکیب تحلیل فندامنتال نیز توصیه می‌شود
📈 موفقیت در معاملات نیازمند صبر، انضباط و مدیریت ریسک صحیح است

===============================================================================